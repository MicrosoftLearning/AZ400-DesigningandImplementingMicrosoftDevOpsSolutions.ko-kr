---
lab:
  title: 릴리스 대시보드 만들기
  module: 'Module 04: Design and implement a release strategy'
---

# 릴리스 대시보드 만들기

# 학생용 랩 매뉴얼

## 랩 요구 사항

- 이 랩은 **Microsoft Edge** 또는 [Azure DevOps 지원 브라우저](https://docs.microsoft.com/en-us/azure/devops/server/compatibility?view=azure-devops#web-portal-supported-browsers)가 필요합니다.

- **Azure DevOps 조직 설정:** 이 랩에 사용할 수 있는 Azure DevOps 조직이 아직 없으면 [조직 또는 프로젝트 컬렉션 만들기](https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/create-organization?view=azure-devops)에서 제공되는 지침에 따라 조직을 만듭니다.

- 기존 Azure 구독을 확인하거나 새 구독을 만듭니다.

- Azure 구독에서 소유자 역할이 있는 Microsoft 계정 또는 Azure AD 계정이 있는지 확인합니다. 자세한 내용은 [Azure Portal을 사용하여 Azure 역할 할당 나열](https://docs.microsoft.com/en-us/azure/role-based-access-control/role-assignments-list-portal)을 참조하세요.

## 랩 개요

이 랩에서는 릴리스 대시보드를 만들고 REST API를 사용해 Azure DevOps 릴리스 데이터를 검색하는 과정을 단계별로 진행합니다. 검색한 데이터는 사용자 지정 애플리케이션 또는 대시보드에 사용할 수 있습니다.

이 랩에서는 Azure DevOps Starter 리소스를 사용합니다. 이 리소스를 만들면 애플리케이션을 빌드하여 Azure에 배포하는 Azure DevOps 프로젝트가 자동으로 작성됩니다.

## 목표

이 랩을 완료하면 다음 작업을 수행할 수 있습니다.

- 릴리스 대시보드를 만듭니다.
- REST API를 사용하여 릴리스 정보를 쿼리합니다.

## 예상 소요 시간: 45분

## 지침

### 연습 1: 릴리스 대시보드 만들기

이 연습에서는 Azure DevOps 조직에서 릴리스 대시보드를 만듭니다.

#### 작업 1: Azure DevOps Starter 리소스 만들기

이 작업에서는 Azure 구독에 Azure DevOps Starter 리소스를 만듭니다. 그러면 Azure DevOps 조직에서 해당 프로젝트가 자동으로 생성됩니다.

1. 랩 컴퓨터에서 웹 브라우저를 시작하고, [**Azure Portal**](https://portal.azure.com)로 이동한 다음, 이 랩에서 사용할 Azure 구독에서 Owner 또는 Contributor 역할이 지정된 사용자 계정으로 로그인합니다.
1. Azure Portal에서 DevOps Starter 리소스 종류를 검색하여 선택하고 **DevOps Starter** 블레이드에서 **+ 만들기**를 클릭합니다**.**
1. **DevOps Starter** 블레이드의 새 애플리케이션** 창으로 새로 시작 창에서 **.NET** 타일을 선택하고**, GitHub**를 사용하여 DevOps 시작 설정 옆**의 위쪽에서 설정을 변경하고, 여기**를 클릭하고**, Azure DevOps **, **완료** 및 **다음: 프레임워크 >** 선택합니다**.
1. DevOps Starter 블레이드의 **애플리케이션 프레임워크** 선택 창에서 **ASP.NET<nolink> Core** 타일을 선택하고 **데이터베이스** 추가 슬라이더를 켜**기 위치로 **이동**한 다음 다음: 서비스 >** 클릭합니다**.**
1. DevOps Starter 블레이드의 애플리케이션을 배포**할 Azure 서비스 선택 창에서 Windows Web App** 타일이 **선택되어 있는지 확인하고 다음: >** 만들기를 클릭합니다**.******
1. **DevOps Starter** 블레이드의 **거의 모든** 창에서 다음 설정을 지정합니다.

    | 설정 | 값 |
    | ------- | ----- |
    | 프로젝트 이름 | **릴리스 대시보드 만들기** |
    | Azure DevOps 조직 | 이 랩에서 사용하려는 Azure DevOps 조직의 이름 |
    | 구독 | 이 랩에서 사용 중인 Azure 구독의 이름 |
    | 웹앱 이름 | 문자, 숫자 및 하이픈으로 구성된 2~60자 사이의 전역적으로 고유한 문자열로, 문자 또는 숫자로 시작하고 끝납니다. |
    | 위치 | Azure 웹앱 및 Azure SQL 데이터베이스를 배포하려는 Azure 지역의 이름 |

1. **DevOps Starter** 블레이드의 거의 모든** 창에서 **추가 설정을** 클릭합니다**.
1. 추가 설정** 창에서 **다음 설정을 지정하고 확인을** 클릭합니다**.

    | 설정 | 값 |
    | ------- | ----- |
    | Resource group | **az400m10l02-rg** |
    | 가격 책정 계층 | **F1 무료** |
    | Application Insights 위치 | Azure 웹앱의 위치에 대해 선택한 것과 동일한 Azure 지역의 이름 |
    | 서버 이름 | 문자나 숫자로 시작하고 끝나며 문자, 숫자, 하이픈으로 이루어진 전역적으로 고유한 문자열(3~63자) |
    | 사용자 이름 입력 | **dbadmin** |
    | 위치 | Azure 웹앱의 위치에 대해 선택한 것과 동일한 Azure 지역의 이름 |
    | 데이터베이스 이름 | **az400m10l02-db** |

1. DevOps 시작** 블레이드로 돌아가서 거의 있는** 창에서 **완료**를 클릭한 다음 **검토 + 만들기**를 클릭합니다**.**

    > **참고**: 배포가 완료될 때까지 기다립니다. DevOps Starter** 리소스를 **프로비전하는 데 약 2분이 소요됩니다.

1. DevOps Starter 리소스가 프로비전되었다는 확인 메시지가 표시되면 리소스**로 **이동 단추를 클릭합니다. 그러면 브라우저가 DevOps Starter 블레이드로 리디렉션됩니다.
1. DevOps Starter 블레이드에서 성공적으로 완료될 때까지 CI/CD 파이프라인의 진행률을 추적합니다.

    > **참고**: 해당 Azure 웹앱 및 Azure SQL 데이터베이스를 만드는 데 약 5분이 걸릴 수 있습니다. 이 프로세스는 즉시 배포할 수 있는 리포지토리와 빌드 및 릴리스 파이프라인을 포함하는 Azure DevOps 프로젝트를 자동으로 만듭니다. Azure 리소스는 자동으로 트리거되는 배포 파이프라인의 일부로 만들어집니다.

#### 작업 2: Azure DevOps 릴리스 만들기

이 작업에서는 배포 실패를 초래하는 릴리스를 포함하여 여러 Azure DevOps 릴리스를 만듭니다.

1. Azure Portal을 표시하는 웹 브라우저의 DevOps Starter 페이지의 도구 모음에서 Project 홈페이지**를 클릭합니다**. 그러면 Azure Devops 포털에서 **릴리스 대시보드** 만들기 프로젝트를 표시하는 다른 브라우저 탭이 자동으로 열립니다. 로그인하라는 메시지가 표시되면 Azure DevOps 조직 자격 증명으로 인증합니다.

    > **참고**: 먼저 성공적으로 배포할 새 릴리스를 만듭니다.

1. Azure DevOps 포털 왼쪽의 세로 메뉴에서 **Repos**를 클릭하고, 리포지토리의 폴더 목록에서 **Application\\aspnet-core-dotnet-core\\Pages** 폴더로 이동하고, **Index.chtml** 항목을 클릭합니다.
1. **Index.cshtml** 창에서 **편집**을 클릭하고, 줄 **20**에서 `<div class="description line-2"> Your ASP.NET Core app is up and running on Azure</div>`를 `<div class="description line-2"> Your ASP.NET Core app v1.1 is up and running on Azure</div>`로 바꾸고, **커밋**을 클릭하고, **커밋** 창에서 **커밋**을 다시 클릭합니다. 이렇게 하면 자동으로 빌드 파이프라인이 트리거됩니다.
1. Azure DevOps 포털의 왼쪽에 있는 세로 탐색 창에서 파이프라인**을 클릭합니다**.
1. **파이프라인** 창의 **최근** 탭에서 az400m10l02-CI** 항목을 클릭하고 **az400m10l02-CI** **창의 **실행** 탭에서 **** 가장 최근 실행을 선택하고 실행 **요약 탭의 작업** 섹션에서 빌드**를 클릭하고 **작업이 성공적으로 완료될 때까지 작업을 모니터링합니다.
1. 작업이 완료되면 Azure DevOps 포털의 왼쪽**에 있는 세로 탐색 창의 파이프라인** 섹션에서 릴리스**를 클릭합니다**.
1. az400m10l02 - CD** 창의 릴리스 탭에서 **릴리스**-2 항목을 클릭하고 **릴리스 **-2**** 창의 **파이프라인** 탭에서 개발 단계를 클릭하고 **, 개발**** 창에서 **로그** 보기를 클릭하고**, 성공적으로 완료될 때까지 배포 진행 상황을 모니터링합니다.**

    > **참고**: 이제 배포가 실패하는 새 릴리스를 만듭니다. 실패는 새 릴리스와 연결된 변경 내용이 잘못된 것으로 간주하는 기본 제공 어셈블리 테스트로 인해 발생합니다.

1. Azure DevOps 포털 왼쪽의 세로 메뉴에서 **Repos**를 클릭하고, 리포지토리의 폴더 목록에서 **Application\\aspnet-core-dotnet-core\\Pages** 폴더로 이동하고, **Index.chtml** 항목을 클릭합니다.
1. **Index.cshtml** 창에서 편집**을 클릭합니다**. **4**번 줄에서 `ViewData["Title"] = "Home Page - ASP.NET Core";`를 `ViewData["Title"] = "Home Page v1.2 - ASP.NET Core";`로 바꿉니다. **커밋**을 클릭합니다. **커밋** 창에서 **커밋**을 클릭합니다. 이렇게 하면 자동으로 빌드 파이프라인이 트리거됩니다.
1. Azure DevOps 포털의 왼쪽에 있는 세로 탐색 창에서 파이프라인**을 클릭합니다**.
1. **파이프라인** 창의 **최근** 탭에서 az400m10l02-CI** 항목을 클릭하고 **az400m10l02-CI** **창의 **실행** 탭에서 **** 가장 최근 실행을 선택하고 실행 **요약 탭의 작업** 섹션에서 빌드**를 클릭하고 **작업이 성공적으로 완료될 때까지 작업을 모니터링합니다.
1. 작업이 완료되면 Azure DevOps 포털의 왼쪽**에 있는 세로 탐색 창의 파이프라인** 섹션에서 릴리스**를 클릭합니다**.
1. **az400m10l02 - CD** 창의 **릴리스** 탭에서 **릴리스-3** 항목을 클릭하고 **릴리스-3** 창의 **파이프라인** 탭에서 **개발** 단계를 클릭합니다. 그런 다음 **개발** 창에서 **로그 보기**를 클릭하고 **테스트 어셈블리** 단계 중에 배포가 실패할 때까지 진행률을 모니터링합니다.

#### 작업 3: Azure DevOps 릴리스 대시보드 만들기

이 작업에서는 대시보드를 만들고 릴리스 관련 위젯에 추가합니다.

1. Azure DevOps 포털의 왼쪽 세로 메뉴에서 개요를 클릭하고 **개요** **섹션에서 대시보드**를 클릭한 **다음 위젯** 추가를 클릭합니다**.**
1. 위젯 추가 창에서 **위젯 목록을 아래로 스크롤하여 배포 상태** 항목을 선택하고 **추가**를 클릭합니다**.**
1. 이전 단계에서 설명한 절차를 사용하여 릴리스 상태 세부 정보 **, **릴리스 상태 개요** 및 **릴리스 파이프라인 개요** 위젯을 추가**합니다.
    > **참고**: 마켓플레이스 [팀 프로젝트 상태의 릴리스 상태 세부 정보** 및 **릴리스 상태 개요** 설치 **](https://marketplace.visualstudio.com/items?itemName=ms-devlabs.TeamProjectHealth)
1. 마우스를 사용하여 릴리스 파이프라인 개요**를 배포 상태** 위젯의 **오른쪽으로 끌어 **대시보드를 세로로 스크롤할 필요가 없도록 하고 편집** 완료를 클릭합니다**.
1. 대시보드 창으로 돌아가 배포 상태** 위젯을 **나타내는 사각형에서 위**젯 구성을 클릭합니다**.
1. 구성 창에서 **다음 설정을 지정하고(다른 모든 설정을 기본값으로 유지) 저장**을 클릭합니다**.**

    | 설정 | 값 |
    | ------- | ----- |
    | 빌드 파이프라인 | **az400m10l02 - CI** |
    | 연결된 릴리스 파이프라인 | **az400m10l02 - CD; az400m10l02 - CD\dev** |

1. 대시보드 창으로 돌아가서 릴리스 상태 개요 위젯을 **나타내는 사각형의 오른쪽 위 모서리를 마우스로 가리켜 추가 작업** 메뉴를 나타내는 줄임표 기호를 **표시하고, 클릭하고, 드롭다운 메뉴에서 구성**을 클릭합니다**.**  
1. 구성 창에서 **다음 설정을 지정하고(다른 모든 설정을 기본값으로 유지) 저장**을 클릭합니다**.**

    | 설정 | 값 |
    | ------- | ----- |
    | 릴리스 정의 선택 | **az400m10l02 - CD** |

1. 대시보드 창으로 돌아가서 릴리스 상태 세부 정보 위젯을 **나타내는 사각형의 오른쪽 위 모서리를 마우스로 가리켜 추가 작업** 메뉴를 나타내는 줄임표 기호를 **표시하고, 클릭하고, 드롭다운 메뉴에서 구성**을 클릭합니다**.**  
1. 구성 창에서 **다음 설정을 지정하고(다른 모든 설정을 기본값으로 유지) 저장**을 클릭합니다**.**

    | 설정 | 값 |
    | ------- | ----- |
    | 정의 | **az400m10l02 - CD** |

1. 대시보드 창으로 돌아가서 릴리스 파이프라인 개요 위젯을 **나타내는 사각형의 오른쪽 위 모서리를 마우스로 가리키면 추가 작업** 메뉴를 나타내는 **줄임표 기호가 표시되고, 클릭한 다음 드롭다운 메뉴에서 구성**을 클릭합니다**.**  
1. 구성 창에서 **다음 설정을 지정하고(다른 모든 설정을 기본값으로 유지) 저장**을 클릭합니다**.**

    | 설정 | 값 |
    | ------- | ----- |
    | 릴리스 파이프라인 | **az400m10l02 - CD** |

1. 대시보드 창으로 돌아가서 새로 고침**을 클릭하여 **위젯에 표시되는 콘텐츠를 업데이트합니다.

    > **참고**: 위젯의 링크를 사용하면 Azure DevOps 포털의 해당 창으로 직접 이동할 수 있습니다.

### 연습 2: REST API를 통해 릴리스 정보 쿼리

이 연습에서는 Postman을 사용하여 REST API를 통해 릴리스 정보를 쿼리합니다.

#### 작업 1: Azure DevOps 개인용 액세스 토큰 생성

이 작업에서는 이 연습의 다음 작업에서 설치할 Postman 앱에서 인증하는 데 사용할 Azure DevOps 개인용 액세스 토큰을 생성합니다.

1. 랩 컴퓨터의 Azure DevOps 포털이 표시된 웹 브라우저 창에서 Azure DevOps 페이지의 오른쪽 위 모서리에 있는 사용자 설정 아이콘을 클릭하고 **드롭다운 메뉴에서 개인 액세스 토큰**을 클릭하고 **개인 액세스 토큰 창에서 **+ 새 토큰****을 클릭합니다**.**
1. **새 개인용 액세스 토큰 만들기** 창에서 **모든 범위 표시** 링크를 클릭하고 다음 설정을 지정한 후에 **만들기**를 클릭합니다. 다른 값은 모두 기본값으로 유지합니다.

    | 설정 | 값 |
    | --- | --- |
    | 속성 | **릴리스 대시보드 만들기 랩** |
    | 범위 | **엔지니어링** |
    | 사용 권한 | **읽음** |
    | 범위 | **빌드** |
    | 사용 권한 | **읽음** |

1. **성공** 창에서 개인용 액세스 토큰의 값을 클립보드에 붙여넣습니다.

    > **참고**: 토큰의 값을 기록해야 합니다. 이 창을 닫으면 토큰을 검색할 수 없습니다.

1. **성공** 창에서 **닫기**를 클릭합니다.

#### 작업 2: Postman을 사용하여 REST API를 통해 릴리스 정보 쿼리

이 작업에서는 Postman을 사용하여 REST API를 통해 릴리스 정보를 쿼리합니다.

1. 랩 컴퓨터에서 웹 브라우저를 시작하고 Postman 다운로드 페이지[로 ](https://www.postman.com/downloads/)이동하여 앱** 다운로드 단추를 클릭하고 **드롭다운 메뉴에서 Windows 64비**트를 클릭하고 **다운로드한 파일을 클릭하고 설치를 실행합니다. 설치가 완료되면 Postman 데스크톱 앱이 자동으로 시작됩니다.
1. **Postman 계정** 만들기 창에서 전자 메일 주소, 사용자 이름 및 암호를 제공하고 체험 계정** 만들기를 클릭합니다**.

    > **참고**: Postman에서 Postman 계정을 활성화하여 계정 프로비전 프로세스를 완료하는 이메일을 받게 됩니다.

1. 로그인한 후 Postman 데스크톱 앱 창의 왼쪽 위 모서리에서 +새로 **만들기 창에서 [요청]** 을 클릭하고****, [**** 요청 저장] 창**의 [요청**] 텍스트** 상자에 [가져오기 **]를 입력**하고 , [컬렉션 만들기]를 클릭하고 **, **컬렉션**** 이름 텍스트 상자에 Azure DevOps az400m10l02 쿼리**를 입력**하고, 오른쪽에 검사 표시를 클릭합니다.**  그런 다음 Azure DevOps az400m10l02 쿼리**에 저장 단추를 **클릭합니다.
1. 다른 웹 브라우저 창을 열고[**릴리스 - 목록** Microsoft Docs 페이지](https://docs.microsoft.com/en-us/rest/api/azure/devops/release/releases/list?view=azure-devops-rest-6.0)로 이동하여 해당 내용을 검토합니다.
1. Postman 데스크톱 앱으로 다시 전환합니다. 앱 창의 오른쪽 위 섹션에 있는 실행 패드 창에서 권한 부여** 탭 헤더를 클릭하고 **TYPE** **드롭다운 목록에서 기본 인증** 항목을 선택하고 **암호** **텍스트 상자에 이전 작업에서 복사한 토큰 값을 붙여넣습니다(사용자 이름** 텍스트 상자의 **값을 설정하지 않음).
1. 앱 창의 오른쪽 위 섹션에 있는 실행 패드 창에서 GET이 **드롭다운 목록에 **표시되는지 확인하고, 요청 URL** 입력 텍스트 상자에 다음을 입력하고 보내기 **(Azure DevOps 조직의 이름으로 값 `<organization_name>` 바꾸기)를 클릭하여 **모든 릴리스를 나열**합니다.

    ```url
    https://vsrm.dev.azure.com/<organization_name>/Creating%20a%20Release%20Dashboard/_apis/release/releases?api-version=6.0
    ```

1. 앱 창의 오른쪽 아래 섹션에 있는 본문** 탭에 **나열된 출력을 검토하고 이 랩의 이전 연습에서 만든 릴리스 목록이 포함되어 있는지 확인합니다.
1. Microsoft Docs의 내용이 표시된 웹 브라우저 창으로 전환하여[**배포 - 목록** Microsoft Docs 페이지](https://docs.microsoft.com/en-us/rest/api/azure/devops/release/deployments/list?view=azure-devops-rest-6.0)로 이동한 후에 해당 내용을 검토합니다.
1. 앱 창의 오른쪽 위 섹션에 있는 실행 패드 창에서 GET이 **드롭다운 목록에 표시되는지 확인하고, **Enter 요청 URL** 텍스트 상자에 다음을 입력하고 보내기 **(Azure DevOps 조직의 이름으로 값 `<organization_name>` 바꾸기)를 클릭하여 **모든 배포를 나열**합니다.

    ```url
    https://vsrm.dev.azure.com/<organization_name>/Creating%20a%20Release%20Dashboard/_apis/release/deployments?api-version=6.0
    ```

1. 앱 창의 오른쪽 아래 섹션에 있는 본문** 탭에 **나열된 출력을 검토하고 이 랩의 이전 연습에서 시작한 배포 목록이 포함되어 있는지 확인합니다.
1. 앱 창의 오른쪽 위 섹션에 있는 실행 패드 창에서 GET이 **드롭다운 목록에 표시되는지 확인하고, **Enter 요청 URL** 텍스트 상자에 다음을 입력하고 보내기 **(Azure DevOps 조직의 이름으로 값 `<organization_name>` 바꾸기)를 클릭하여 **모든 배포를 나열**합니다.

    ```url
    https://vsrm.dev.azure.com/<organization_name>/Creating%20a%20Release%20Dashboard/_apis/release/deployments?DeploymentStatus=failed&api-version=6.0
    ```

1. 앱 창의 오른쪽 아래 섹션에 있는 본문** 탭에 **나열된 출력을 검토하고 이 랩의 이전 연습에서 시작한 실패한 배포만 포함하는지 확인합니다.

### 연습 3: Azure 랩 리소스 제거

이 연습에서는 예상치 못한 비용이 발생하지 않도록 이 랩에서 프로비전한 Azure 리소스를 제거합니다.

>**참고**: 더 이상 사용하지 않는 새로 만든 Azure 리소스는 모두 제거하세요. 사용되지 않는 리소스를 제거하면 예기치 않은 요금이 발생하지 않습니다.

#### 작업 1: Azure 랩 리소스 제거

이 작업에서는 Azure Cloud Shell을 사용하여 불필요한 비용이 발생하지 않도록 이 랩에서 프로비전한 Azure 리소스를 제거합니다.

1. Azure Portal의 **Cloud Shell** 창에서 **Bash** 세션을 시작합니다.
1. 다음 명령을 실행하여 이 모듈의 전체 랩에서 생성된 모든 리소스 그룹을 나열합니다.

    ```sh
    az group list --query "[?starts_with(name,'az400m10l02-rg')].name" --output tsv
    ```

1. 다음 명령을 실행하여 이 모듈의 랩 전체에서 만든 모든 리소스 그룹을 삭제합니다.

    ```sh
    az group list --query "[?starts_with(name,'az400m10l02-rg')].[name]" --output tsv | xargs -L1 bash -c 'az group delete --name $0 --no-wait --yes'
    ```

    >**참고**: 명령은 비동기적으로 실행되므로(--nowait 매개 변수에 의해 결정됨) 동일한 Bash 세션 내에서 즉시 다른 Azure CLI 명령을 실행할 수 있지만 리소스 그룹이 실제로 제거되기까지 몇 분 정도 걸립니다.

## 검토

이 랩에서는 릴리스 대시보드를 만들고 구성하는 방법과 REST API를 사용하여 Azure DevOps 릴리스 데이터를 검색하는 방법을 알아보았습니다.
