---
lab:
  title: '랩 05: Azure Pipelines를 통한 연속 통합 지원'
  module: 'Module 03: Implement CI with Azure Pipelines and GitHub Actions'
---

# <a name="lab-05-enabling-continuous-integration-with-azure-pipelines"></a>랩 05: Azure Pipelines를 통한 연속 통합 지원

# <a name="student-lab-manual"></a>학생용 랩 매뉴얼

## <a name="lab-requirements"></a>랩 요구 사항

- 이 랩은 **Microsoft Edge** 또는 [Azure DevOps 지원 브라우저](https://docs.microsoft.com/en-us/azure/devops/server/compatibility?view=azure-devops#web-portal-supported-browsers)가 필요합니다.

- **Azure DevOps 조직 설정:** 이 랩에 사용할 수 있는 Azure DevOps 조직이 아직 없으면 [조직 또는 프로젝트 컬렉션 만들기](https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/create-organization?view=azure-devops)에서 제공되는 지침에 따라 조직을 만듭니다.

## <a name="lab-overview"></a>랩 개요

이 랩에서는 Azure Pipelines의 빌드 및 릴리스를 사용하여 애플리케이션용 CI(연속 통합) 및 CD(연속 배포)를 구성하는 방법을 알아봅니다. 이 스크립트 가능 CI/CD 시스템은 웹 기반 시스템인 동시에 플랫폼 간 시스템입니다. 뿐만 아니라 복잡한 워크플로 시각화를 위한 최신 인터페이스도 제공합니다. 이 랩에서 모든 플랫폼 간 시나리오를 시연하지는 않지만 iOS, Android, Java(Ant, Maven 또는 Gradle 사용) 및 Linux용 시스템도 빌드할 수 있습니다.

## <a name="objectives"></a>목표

이 랩을 완료하면 다음 작업을 수행할 수 있습니다.

- 템플릿에서 기본적인 빌드 파이프라인 만들기
- 빌드 추적 및 검토
- 연속 통합 빌드 호출

## <a name="estimated-timing-45-minutes"></a>예상 소요 시간: 45분

## <a name="instructions"></a>지침

### <a name="exercise-0-configure-the-lab-prerequisites"></a>연습 0: 랩 필수 구성 요소 구성

이 연습에서는 랩의 필수 구성 요소를 설정합니다. 구체적으로는 Azure DevOps 데모 생성기 템플릿을 기반으로 하여 미리 구성된 Parts Unlimited 팀 프로젝트를 설정합니다.

#### <a name="task-1-configure-the-team-project"></a>작업 1: 팀 프로젝트 구성

이 작업에서는 Azure DevOps 데모 생성기를 사용하여 **Parts Unlimited** 템플릿을 기반으로 새 프로젝트를 생성합니다.

1. 랩 컴퓨터에서 웹 브라우저를 시작하고 [Azure DevOps 데모 생성기](https://azuredevopsdemogenerator.azurewebsites.net)로 이동합니다. 이 유틸리티 사이트에서는 계정 내에서 새 Azure DevOps 프로젝트를 만드는 프로세스를 자동으로 진행할 수 있습니다. 이 프로젝트에는 랩에 필요한 작업 항목, 리포지토리 등의 콘텐츠가 미리 입력되어 있습니다.

    > **참고**: 사이트에 대한 자세한 내용은 <https://docs.microsoft.com/en-us/azure/devops/demo-gen> 을 참조하세요.

1. **로그인**을 클릭하고 Azure DevOps 구독과 연결된 Microsoft 계정을 사용하여 로그인합니다.
1. 필요한 경우 **Azure DevOps 데모 생성기** 페이지에서 **수락**을 클릭하여 Azure DevOps 구독에 액세스하는 데 필요한 권한 요청을 수락합니다.
1. **새 프로젝트 만들기** 페이지의 **새 프로젝트 이름** 텍스트 상자에 **Azure Pipelines를 통한 연속 통합 지원**을 입력합니다. 그런 다음 **조직 선택** 드롭다운 목록에서 Azure DevOps 조직을 선택하고 **템플릿 선택**을 클릭합니다.
1. 템플릿 목록에서 **PartsUnlimited** 템플릿을 찾은 다음 **템플릿 선택**을 클릭합니다.
1. **새 프로젝트 만들기** 페이지로 돌아와서 **프로젝트 만들기**를 클릭합니다.

    > **참고**: 프로세스가 완료될 때까지 기다립니다. 이 작업은 2분 정도 걸립니다. 프로세스가 실패하면 DevOps 조직으로 이동하여 프로젝트를 삭제한 후에 다시 시도합니다.

1. **새 프로젝트 만들기** 페이지에서 **프로젝트로 이동**을 클릭합니다.

### <a name="exercise-1-introduction-to-azure-devops-build"></a>연습 1: Azure DevOps 빌드 관련 작업 수행

이 연습에서는 템플릿에서 기본적인 빌드 파이프라인을 만들고 새 빌드 작업을 추적 및 검토한 후에 연속 통합 빌드를 트리거합니다.

#### <a name="task-1-creating-a-basic-build-pipeline-from-a-template"></a>작업 1: 템플릿에서 기본적인 빌드 파이프라인 만들기

이 작업에서는 미리 정의된 템플릿을 사용하여 빌드 파이프라인을 만들고 구성합니다.

1. Azure DevOps 조직 및 이전 연습에서 생성한 **Azure Pipelines를 통한 연속 통합 지원** 프로젝트가 표시된 웹 브라우저의 세로 탐색 창에서 **Pipelines** 섹션을 선택하고 **파이프라인** 보기가 표시되는지 확인합니다.

    > **참고**: [<https://dev.azure.com/>`<your-Azure-DevOps-account-name>` /Enabling%20Continuous%20Integration%20with%20Azure%20Pipelines) URL로 직접 이동하여 프로젝트 페이지에 액세스할 수도 있습니다. 여기서 `<your-Azure-DevOps-account-name>` 자리 표시자는 사용자의 계정 이름을 나타냅니다.

1. **파이프라인** 창에서 기존 **PartsUnlimitedE2E** 파이프라인을 나타내는 항목 위에 마우스를 놓으면 오른쪽에 줄임표 기호가 표시됩니다.
1. 줄임표를 클릭하고 드롭다운 메뉴에서 **편집**을 클릭합니다.

    > **참고**: 랩에서 파이프라인 2개가 트리거되지 않도록 하려면 먼저 템플릿으로 만든 파이프라인의 CI 트리거를 사용하지 않도록 설정합니다.

1. **PartsUnlimitedE2E** 창의 **작업** 탭에서 **트리거** 탭을 클릭하고 **연속 통합 사용** 체크박스의 선택을 취소한 다음 **저장 및 큐에 넣기**, **저장**을 차례로 클릭합니다.
1. 새 파이프라인을 만들려면 Azure DevOps 포털의 세로 탐색 창에서 **Pipelines**를 선택하여 **파이프라인** 보기로 다시 이동합니다.
1. **파이프라인** 창으로 돌아와서 **새 파이프라인**을 클릭하여 새 빌드 파이프라인을 만듭니다.

    > **참고**: 빌드 파이프라인의 기본 옵션을 적용하는 경우 YAML이 사용됩니다. 이 랩에서는 클래식 편집기를 사용합니다.

1. **코드 위치** 창에서 페이지 아래쪽의 **클래식 편집기 사용** 링크를 클릭합니다.

    > **참고**: 먼저 소스 리포지토리를 구성해야 합니다. 모든 주요 플랫폼을 사용할 수 있지만 여기서는 기본 옵션만 사용하면 됩니다. 이 빌드는 **PartsUnlimited** 리포지토리의 **master** 분기를 사용합니다.

1. **PartsUnlimited** 리포지토리와 **master** 분기 항목이 포함된 **Azure Repos Git** 옵션이 선택되어 있는지 확인하고 **계속**을 클릭합니다.
1. **템플릿 선택** 창의 **검색** 텍스트 상자에 **ASP.NET**을 입력하고 결과 목록에서 **ASP.NET** 템플릿을 선택합니다. 그런 다음 **적용**을 클릭하여 빌드 정의에 이 템플릿을 적용합니다.

    > **참고**: 모든 메인스트림 시나리오를 진행할 수 있도록 여러 가지 옵션이 제공됩니다. 이 랩에서는 기준 ASP.NET 템플릿을 사용하여 프로젝트를 빌드합니다. 이 빌드 파이프라인의 프로세스는 손쉽게 진행할 수 있습니다. 소스를 가져오고 나면 Azure DevOps에서 NuGet을 사용해 종속 패키지를 복원합니다. 그리고 나면 프로젝트 빌드와 테스트가 진행됩니다. 그리고 구성된 대상에 결과가 게시됩니다.

1. **작업** 탭에서 **테스트 어셈블리** 작업을 찾아서 마우스 오른쪽 단추를 클릭하고 **선택한 작업 사용 안 함**을 클릭합니다.
1. **변수** 탭을 선택하여 해당 내용을 검토합니다.

    > **참고**: 이 탭에서는 구성, 플랫폼 등 빌드 중에 사용할 특수 매개 변수를 구성할 수 있습니다.

1. **트리거** 탭을 선택하고 **연속 통합 사용** 체크박스를 선택합니다.

    > **참고**: 그러면 소스 변경 내용을 커밋할 때마다 빌드가 자동으로 호출됩니다. 트리거를 사용하면 일정에 따라, 다른 빌드 완료 시, 소스 변경 시에 빌드를 자동으로 호출할 수 있습니다.

1. **옵션** 탭을 선택하여 해당 내용을 검토합니다.

    > **참고**: 이 섹션에는 빌드 워크플로와 관련된 다양한 옵션이 포함되어 있습니다. 일반적으로는 작업의 구성 보기 자체에서 특정 빌드 작업의 옵션을 구성합니다.

1. **기록** 탭을 선택합니다.

    > **참고**: 지금은 이 탭에 항목이 없으며, 나중에 빌드 정의에 적용하는 변경 내용의 기록이 표시됩니다.

1. **저장 및 큐에 넣기** 탭 머리글을 선택하고 드롭다운 메뉴에서 **저장 및 큐에 넣기** 항목을 선택하여 새 빌드를 저장한 후 큐에 넣습니다.

    > **참고**: **프로젝트 설정** > **설정** > **보존 정책**에서 파이프라인 아티팩트 보존 시간을 정의할 수 있습니다. 이러한 설정을 활용하면 보존되는 파이프라인 실행 및 보존 기간을 구성할 수 있습니다.

1. **파이프라인 실행** 창에서 기본 옵션을 수락하고 **저장 및 실행**을 클릭합니다. 그러면 파이프라인 실행 작업의 **요약** 탭이 자동으로 표시됩니다. 이 작업은 **큐에 저장됨** 상태입니다.

#### <a name="task-2-tracking-and-reviewing-a-build"></a>작업 2: 빌드 추적 및 검토

이 작업에서는 새 빌드 작업을 추적하고 검토합니다.

> **참고**: 빌드가 시작되면 작업별로 콘솔 출력을 추적할 수 있습니다.

1. 파이프라인 실행 작업의 **요약** 탭 **작업** 섹션에서 **에이전트 작업 1**을 클릭합니다. 그러면 작업의 세부 정보 창이 표시됩니다.

    > **참고**: 이전 작업을 검토하려는 경우 오른쪽 창을 스크롤하여 작업 로그를 검토하면 됩니다.

2. 빌드가 정상적으로 완료되면 작업 세부 정보 창에서 왼쪽 화살표를 클릭하여 요약 보기로 돌아옵니다.

    > **참고**: 요약 보기에서는 커밋, 테스트, 아티팩트 관련 세부 정보를 비롯한 빌드 관련 개요 세부 정보가 제공됩니다.

#### <a name="task-3-invoking-a-continuous-integration-build"></a>작업 3: 지속적인 통합 빌드 호출

이 작업에서는 연속 통합 빌드를 트리거합니다.

   > **참고**: 이 연습의 첫 작업에서는 연속 통합을 지원하도록 빌드를 구성했습니다. 이 작업에서는 해당 기능을 테스트합니다.

1. Azure DevOps 포털의 프로젝트 설정이 표시된 웹 브라우저 창의 세로 탐색 창에서 **Repos** 섹션을 클릭하고 **Files** 보기가 표시되는지 확인합니다.
1. 가운데 창에서 **PartsUnlimited-aspnet45/src/PartsUnlimitedWebsite/Views/Home/Index.cshtml** 파일로 이동하여 해당 파일을 선택합니다.
1. **Index.cshtml** 창에서 **편집**을 클릭합니다.
1. **Index.cshtml** 창에서 `ViewBag.Title = "Home Page";` 줄을 `ViewBag.Title = "Lab Project Home Page";`로 변경하여 부분 업데이트를 수행하고 **커밋**을 클릭합니다.
1. **커밋** 창에서 기본 커밋 세부 정보를 수락하고 **커밋**을 클릭합니다.

    > **참고**: 이 작업을 수행하면 빌드가 자동으로 트리거됩니다.

1. 세로 탐색 창에서 **Pipelines** 섹션을 선택하고 **파이프라인** 보기가 표시되는지 확인합니다.
1. **파이프라인** 창에서 코드 변경으로 인해 트리거된 새 빌드를 나타내는 항목이 포함되어 있는지 확인합니다. 새 빌드의 번호 끝에는 **.2**가 있습니다.
1. 빌드 항목을 클릭하여 세부 정보를 표시한 다음 빌드가 정상적으로 완료되었는지 확인합니다.

## <a name="review"></a>검토

이 랩에서는 Azure DevOps 포털을 사용해 템플릿에서 기본적인 빌드 파이프라인을 만들고 빌드를 추적 및 검토했으며, 연속 통합 빌드를 호출했습니다.
